ğŸ”¥ Fire & Human Detection System
Real-time Fire Detection with Human Presence Alert 

This project is a real-time Fire Detection System that uses a webcam to detect both fire and human presence simultaneously.
It triggers an alarm sound only when fire is detected AND a human is present, reducing false alerts.

It is optimized to detect small flames such as matchsticks and lighters, while maintaining good performance and accuracy.

ğŸš€ Features
ğŸ”¥ Fire Detection

Detects fire using HSV color segmentation

Tuned to detect very small flames (matchsticks, candles, lighters)

Uses morphological processing to enlarge & stabilize flame detection

Adjustable sensitivity via configuration variables

ğŸ§ Human Detection

Combines:

HOG full-body detector

Haar Cascade face detector

Supports real-time detection on standard webcams

Human detection is throttled for improved FPS

ğŸ”” Alarm System

Plays custom alarm audio (alarm.mp3) using afplay (macOS)

Uses thread-safe logic so multiple alarms do not overlap

Fires the alarm only if:
Fire Detected + Human Present + Stable for N frames

âš¡ Performance Optimized

Uses downscaled frames (480Ã—360)

Runs heavy human detection only every N frames

Uses detection caching to keep performance smooth

ğŸ“ Project Structure
/Users/omraj/Desktop/Screenshot 2025-12-10 at 2.04.47â€¯PM.png


## Architecture Diagram

/Users/omraj/Desktop/Screenshot 2025-12-10 at 1.56.10â€¯PM.png




ğŸ› ï¸ Technologies Used


Python 3.x

OpenCV (cv2)

NumPy

macOS subsystem audio (afplay)

HOG + SVM person detector

Haar Cascade face detection

ğŸ“¦ Installation
1. Clone the repository
git clone : https://github.com/OmRaj6666/Fire-Detection.git
cd fire-detection-system

2. Create & activate virtual environment
python3 -m venv .venv
source .venv/bin/activate

3. Install required libraries
pip install opencv-python numpy

4. Add your alarm file

Place a sound file named alarm.mp3 inside the project root.

â–¶ï¸ Running the System

From the project folder:

python3 main.py

Controls

Press q â†’ Quit program

Webcam opens automatically

Two windows:

Fire + Human Detection View

Fire Mask Visualization

ğŸ”§ Configuration (Adjust Sensitivity)

Inside main.py, modify these values:

Fire Sensitivity
FIRE_THRESHOLD = 0.0015
MIN_FIRE_PIXELS = 120


Lower values â†’ More sensitive (detects tiny flames)

Higher values â†’ Less sensitive

Human Detection Frequency
HUMAN_DETECT_EVERY = 5


Lower (e.g., 3) â†’ more accurate but slower

Higher (e.g., 8â€“10) â†’ faster but less frequent detection

ğŸ§ª How It Works (Pipeline Overview)
1ï¸âƒ£ Webcam frame capture

Frames are resized 480Ã—360 for speed.

2ï¸âƒ£ Human detection

Runs every N frames

Detects:

Full body (HOG)

Face (Haar Cascade)

3ï¸âƒ£ Fire detection

Converts frame to HSV

Applies fire-color mask

Removes any fire-like pixels inside detected human boxes

Uses dilation to detect small flames

Counts fire pixels & calculates fire ratio

4ï¸âƒ£ Alarm logic

Alarm rings only when:

fire_detected == True
AND human_detected == True
AND sustained for consecutive frames

ğŸ Troubleshooting
â“ Fire not being detected?

Try reducing sensitivity:

FIRE_THRESHOLD = 0.0010
MIN_FIRE_PIXELS = 80

â“ Human not detecting reliably?

Increase face detection priority:

Ensure good lighting

Move closer to webcam

Reduce resize frame size to 640Ã—480 for better HOG accuracy

â“ Alarm not playing?

Check file name: alarm.mp3

Ensure macOS afplay command works:

afplay alarm.mp3

ğŸ“„ License

This project is open-source. You may modify or use it for personal, academic, or research purposes.

ğŸ¤ Contributing

Pull requests are welcome!
If you'd like improvements such as:

YOLO-based human detection

Deep learning fire detection

GPU acceleration

